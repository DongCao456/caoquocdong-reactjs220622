<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/>
    <title>Document</title>
    <style>
        .search{
            margin: 15px 0px;
        }

        #asc,#desc{
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Danh sách học sinh</h2>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="inputName" placeholder=".....">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="myFunction();">Search</button>
            </div>
        </div>
        
        <table class="table table-bordered" id="myTable">
            <thead>
                <tr>
                    <th style="color:blue ;">Họ và Tên<a href="#" style="float: right ;" onclick="sortName();"><i class="fa fa-sort" aria-hidden="true"></i></a></th>
                    <th style="color:blue ;">Lớp<a href="#" style="float: right ;" onclick="display();"><i class="fa fa-sort" aria-hidden="true"></i></a></th>
                    <th style="color:blue ;">Điểm số
                        <a id="desc" href="#" onclick="sortScoreDesc();" style="float: right ;">
                            <i  class="fa fa-sort-desc" aria-hidden="true"></i>
                        </a>
                        <a id="asc" href="#" onclick="sortScoreAsc();" style="float: right ;">
                            <i  class="fa fa-sort-asc" aria-hidden="true"></i>
                        </a>
                    </th>
                </tr>
            </thead>
            <tbody id="data">

            </tbody>
        </table>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script>

    
    const student=[{name:'John',grade:'Best1',score:9},
                {name:'Lucy',grade:'Best1',score:8.5},
                {name:'Ralph',grade:'Best1',score:6},
                {name:'Billy',grade:'Best1',score:7},
                ]
                display();
                document.getElementById("asc").style.display="none";
                console.log(student);

    const emp=[];  
           
    function clearTable(){
        $("#data").empty();
    }
    function display(){
        
        for(var i=0;i<student.length;i++)
    {
        let trow=document.createElement("tr");

        let tdata1=document.createElement("td");
        tdata1.innerHTML=student[i].name;

        let tdata2=document.createElement("td");
        tdata2.innerHTML=student[i].grade;

        let tdata3=document.createElement("td");
        tdata3.innerHTML=student[i].score;

        trow.appendChild(tdata1);
        trow.appendChild(tdata2);
        trow.appendChild(tdata3);

        document.getElementById("data").appendChild(trow);
    }
    }

    function sortScoreDesc(){
       student.sort((a,b)=>b.score-a.score);
       $("#data").empty();
       display();
       document.getElementById("desc").style.display="none";
       document.getElementById("asc").style.display="block";
    }

    function sortScoreAsc(){
       student.sort((a,b)=>a.score-b.score);
       $("#data").empty();
       display();
       document.getElementById("asc").style.display="none";
       document.getElementById("desc").style.display="block";
    }

    

    function myFunction() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("inputName");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr=table.getElementsByTagName("tr");
  for(i=0;i<tr.length;i++)
  {
    td=tr[i].getElementsByTagName("td")[0];
    if(td){
        txtValue=td.textContent || td.innerText;
        if(txtValue.toUpperCase().indexOf(filter) > -1){
            tr[i].style.display="";
        }
        else{
            tr[i].style.display="none";
        }
    }
  }
}

function sortName(){
    student.sort(
        
            function (a,b) {
                const nameA=a.name.toUpperCase();
                const nameB=b.name.toUpperCase();
                if(nameA < nameB)
                {
                    return -1;
                }
                if(nameA > nameB)
                {
                    return 1;
                }
                return 0;
            }
        
    );
    $("#data").empty();
       display();
}
    
</script>
</body>
</html>